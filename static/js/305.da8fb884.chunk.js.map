{"version":3,"file":"static/js/305.da8fb884.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Pages/MovieDetails.module.css?a892","components/Pages/MovieDetails.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/Service/FetchApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__QvgHL\",\"backLink\":\"MovieDetails_backLink__PC6HX\",\"loading\":\"MovieDetails_loading__JhSsF\",\"title\":\"MovieDetails_title__VVhdz\",\"releaseDate\":\"MovieDetails_releaseDate__KBlPj\",\"overview\":\"MovieDetails_overview__iUB9b\",\"genres\":\"MovieDetails_genres__JY6+e\",\"poster\":\"MovieDetails_poster__Pc0-9\",\"userScore\":\"MovieDetails_userScore__dU4LU\",\"navigation\":\"MovieDetails_navigation__3Eolg\",\"active\":\"MovieDetails_active__0FVmq\",\"reviewsContainer\":\"MovieDetails_reviewsContainer__K-Ff8\",\"review\":\"MovieDetails_review__59btb\"};","import React, { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { getMovieById } from '../Service/FetchApi';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const prevLocation = useRef(location?.state?.from ?? '/movies');\n\n  useEffect(() => {\n    setLoading(true);\n\n    getMovieById(movieId)\n      .then(data => {\n        setData(data);\n        setLoading(false);\n      })\n      .catch(error => {\n        alert('error:', error);\n        setLoading(false);\n      });\n  }, [movieId]);\n\n  const {\n    title,\n    overview,\n    genres,\n    poster_path: path,\n    vote_average: vote,\n    release_date: release,\n  } = data;\n\n  const rating = vote?.toFixed(1);\n  const releaseDate = `(${release?.slice(0, 4)})`;\n\n  const imgPath = path ? `https://image.tmdb.org/t/p/w500${path}` : null;\n\n  return (\n    <Suspense>\n      <div className={css.container}>\n        <Link className={css.backLink} to={prevLocation.current}>\n          Back\n        </Link>\n        {loading ? (\n          <p className={css.loading}>Loading...</p>\n        ) : (\n          <>\n            <h1 className={css.title}>\n              {title} <span className={css.releaseDate}>{releaseDate}</span>\n            </h1>\n\n            <p className={css.overview}>Overview: {overview}</p>\n            <p className={css.genres}>\n              Genres: {genres && genres.map(genre => genre.name).join(', ')}\n            </p>\n            <img className={css.poster} src={imgPath} alt=\"\" />\n\n            {vote && <p className={css.userScore}>User Score: {rating} / 10</p>}\n            <ul className={css.navigation}>\n              <li>\n                <Link to=\"cast\">Cast</Link>\n              </li>\n              <li>\n                <Link to=\"reviews\">Reviews</Link>\n              </li>\n            </ul>\n            <div className={css.reviewsContainer}>\n              <Outlet />\n            </div>\n          </>\n        )}\n      </div>\n    </Suspense>\n  );\n};\n\nexport default MovieDetails;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3NWE3MTViMjhiYzlhNTc2ZWQ2MzkzZjYzYjllMjlmOCIsInN1YiI6IjY0N2ZhYTRlY2E3ZWM2MDEzOTAwNDkzNSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4uBK7cn8JGhy1huwgClr31nT-u15Nkxz-Rq5SsBaK6g',\n  },\n};\n\nconst getTrendingMovies = async () => {\n  const data = await fetch(\n    'https://api.themoviedb.org/3/trending/movie/day?language=en-US',\n    options\n  );\n  return data.json();\n};\n\nconst getSearchMovies = async query => {\n  const data = await fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  return data.json();\n};\n\nconst getMovieById = async movieId => {\n  const data = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  );\n  return data.json();\n};\n\nconst getCreditsById = async movieId => {\n  const data = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  );\n  return data.json();\n};\n\nconst getReviewsById = async movieId => {\n  const data = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  );\n  return data.json();\n};\n\nexport {\n  getTrendingMovies,\n  getSearchMovies,\n  getMovieById,\n  getCreditsById,\n  getReviewsById,\n};\n"],"names":["movieId","useParams","useState","data","setData","loading","setLoading","location","useLocation","prevLocation","useRef","state","from","useEffect","getMovieById","then","catch","error","alert","title","overview","genres","path","poster_path","vote","vote_average","release","release_date","rating","toFixed","releaseDate","slice","imgPath","Suspense","className","css","to","current","map","genre","name","join","src","alt","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","options","method","headers","accept","Authorization","getTrendingMovies","fetch","json","getSearchMovies","query","getCreditsById","getReviewsById"],"sourceRoot":""}